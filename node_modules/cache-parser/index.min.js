!function(e){var a=Symbol("cache-parser"),r={immutable:"immutable",maxAge:"max-age",maxStale:"max-stale",minFresh:"min-fresh",mustRevalidate:"must-revalidate",mustUnderstand:"must-understand",noCache:"no-cache",noStore:"no-store",noTransform:"no-transform",onlyIfCached:"only-if-cached",private:"private",proxyRevalidate:"proxy-revalidate",public:"public",sMaxAge:"s-maxage",staleIfError:"stale-if-error",staleWhileRevalidate:"stale-while-revalidate"};for(var t in r)r[r[t]]=t;function s(e){return("string"==typeof e||"number"==typeof e)&&(e=Number(e))>=0&&e<1/0}function n(e){return!0===e||"number"==typeof e||"string"==typeof e&&"false"!==e}e.Directive=r,e.toDuration=s,e.toBoolean=n,e.isCacheControl=function(e){return!!e&&!!e[a]},e.tokenize=function(e){if(!e||"object"!=typeof e)return[];var a=[];return n(e.immutable)&&a.push(r.immutable),s(e.maxAge)&&a.push(r.maxAge+"="+Number(e.maxAge)),s(e.maxStale)&&a.push(r.maxStale+"="+Number(e.maxStale)),s(e.minFresh)&&a.push(r.minFresh+"="+Number(e.minFresh)),n(e.mustRevalidate)&&a.push(r.mustRevalidate),n(e.mustUnderstand)&&a.push(r.mustUnderstand),n(e.noCache)&&a.push(r.noCache),n(e.noStore)&&a.push(r.noStore),n(e.noTransform)&&a.push(r.noTransform),n(e.onlyIfCached)&&a.push(r.onlyIfCached),n(e.private)&&a.push(r.private),n(e.proxyRevalidate)&&a.push(r.proxyRevalidate),n(e.public)&&a.push(r.public),s(e.sMaxAge)&&a.push(r.sMaxAge+"="+Number(e.sMaxAge)),s(e.staleIfError)&&a.push(r.staleIfError+"="+Number(e.staleIfError)),s(e.staleWhileRevalidate)&&a.push(r.staleWhileRevalidate+"="+Number(e.staleWhileRevalidate)),a},e.parse=function(e){var t=Object.defineProperty({},a,{configurable:!1,enumerable:!1,writable:!1,value:1});if(!e||"string"!=typeof e)return t;var o={},i=e.toLowerCase().replace(/\s+/g,"").split(",");for(var l in i){var u=i[l].split("=",2);o[u[0]]=1===u.length||u[1]}return n(o[r.immutable])&&(t.immutable=!0),s(o[r.maxAge])&&(t.maxAge=Number(o[r.maxAge])),s(o[r.maxStale])&&(t.maxStale=Number(o[r.maxStale])),s(o[r.minFresh])&&(t.minFresh=Number(o[r.minFresh])),n(o[r.mustRevalidate])&&(t.mustRevalidate=!0),n(o[r.mustUnderstand])&&(t.mustUnderstand=!0),n(o[r.noCache])&&(t.noCache=!0),n(o[r.noStore])&&(t.noStore=!0),n(o[r.noTransform])&&(t.noTransform=!0),n(o[r.onlyIfCached])&&(t.onlyIfCached=!0),n(o[r.private])&&(t.private=!0),n(o[r.proxyRevalidate])&&(t.proxyRevalidate=!0),n(o[r.public])&&(t.public=!0),s(o[r.sMaxAge])&&(t.sMaxAge=Number(o[r.sMaxAge])),s(o[r.staleIfError])&&(t.staleIfError=Number(o[r.staleIfError])),s(o[r.staleWhileRevalidate])&&(t.staleWhileRevalidate=Number(o[r.staleWhileRevalidate])),t}}("undefined"!=typeof exports?exports:window.CacheParser||(window.CacheParser={}));