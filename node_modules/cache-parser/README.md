<br />
<div align="center">
  <pre>
  <br />
  <h1>âŒ›
Cache Parser</h1>
  <br />
  </pre>
  <br />
  <br />
  <code
    ><a href="https://github.com/ArthurFiorette/cache-parser/stargazers"
      ><img
        src="https://img.shields.io/github/stars/ArthurFiorette/cache-parser?logo=github&label=Stars"
        target="_blank"
        alt="Stars" /></a
  ></code>
  <code
    ><a href="https://github.com/ArthurFiorette/cache-parser/blob/main/LICENSE"
      ><img
        src="https://img.shields.io/github/license/ArthurFiorette/cache-parser?logo=githu&label=License"
        target="_blank"
        alt="License" /></a
  ></code>
  <code
    ><a href="https://bundlephobia.com/package/cache-parser"
      ><img
        src="https://img.shields.io/bundlephobia/min/cache-parser?style=flat"
        target="_blank"
        alt="Size" /></a
  ></code>
  <code
    ><a href="https://www.npmjs.com/package/cache-parser"
      ><img
        src="https://img.shields.io/npm/dw/cache-parser?style=flat"
        target="_blank"
        alt="Downloads NPM" /></a
  ></code>
  <code
    ><a href="https://app.codecov.io/gh/arthurfiorette/cache-parser/"
      ><img
        src="https://codecov.io/gh/arthurfiorette/cache-parser/branch/main/graph/badge.svg?token=pdslRMQDtC"
        target="_blank"
        alt="Coverage" /></a
  ></code>
</div>

<h1></h1>

<br />
<br />

### `cache-parser` is a minimal Cache-Control header parser

<br />
<br />

## Table of contents

- [Table of contents](#table-of-contents)
- [Installing](#installing)
    - [Node](#node)
    - [Browser](#browser)
- [Browser Compatibility](#browser-compatibility)
- [Getting Started](#getting-started)
  - [Some examples](#some-examples)
- [License](#license)
- [Contact](#contact)

<br />

## Installing

#### Node

```sh
npm install --save cache-parser
# or
yarn add cache-parser
```

```js
const { parse, tokenize } = require('cache-parser');
// or
import { parse, tokenize } from 'cache-parser';
```

#### Browser

![Downloads](https://img.shields.io/npm/v/cache-parser?style=flat)

```html
<!-- Make sure to use the latest version -->

<script
  crossorigin
  src="https://cdn.jsdelivr.net/npm/cache-parser@VERSION/index.min.js"
></script>
<!-- or -->
<script crossorigin src="https://unpkg.com/cache-parser@VERSION/index.min.js"></script>
```

```js
const { parse, tokenize } = window.CacheParser;
```

<br />

## Browser Compatibility

Currently this package supports until **ES3**. To maintain this compatibility, our CI is
using [ES Check](https://github.com/yowainwright/es-check).

But you can test this yourself too by running `yarn escheck` or `npm run escheck` on this
code.

<br />

## Getting Started

This library consists of two important functions: `parse` and `tokenize`.

Every documentation needed by every piece of code is in form of `TSDoc` and `JSDoc`
comments. You can see them [**Here**](/index.d.ts).

### Some examples

Simple header parsing:

```js
import { parse } from 'cache-parser';

const rawHeader = 'public, max-age=3600';

const { public, maxAge, immutable } = parse(rawHeader);

console.log(public); // true
console.log(maxAge); // 3600
console.log(typeof maxAge); // number
console.log(immutable); // undefined
```

Simple header building:

```ts
import { tokenize } from 'cache-parser';

/** @type {import('cache-parser').CacheControl} */
const cacheProperties = { public: true, maxAge: 3600 };

// ['public', 'max-age=3600']
const cacheTokens = tokenize(cacheProperties);

// 'public, max-age=3600'
response.headers['Cache-Control'] = tokens.join(', ');
```

<br />

## License

Licensed under the **MIT**. See [`LICENSE`](LICENSE) for more informations.

<br />

## Contact

See my contact information on my [github profile](https://github.com/ArthurFiorette) or
open a new issue.

<br />
